(()=>{"use strict";const i=(i,r="00:00:00",n="000")=>{let e=r?Number(r.substring(0,2)):0,o=r?Number(r.substring(3,5)):0,a=r?Number(r.substring(6,8)):0,t=r&&r.length>8?Number(r.substring(9,r.length)):0;n&&(t=Number(n));let l=Number(i.substring(0,2)),_=Number(i.substring(3,5))-1,u=Number(i.substring(6,i.length));return Date.parse(new Date(u,_,l,e,o,a))+t},r=["fT","yQ","rb","st","Lo","zP","Nx","ga","uV","Hl"],n=["ak","jW","ij","fd","Oa","hw","Uh","kj","Ag","Yw"],e=["_3","7@","&6","2%","8$","0*","#9","-5","1+","!4"],o="abcdefghijklmnopqrstuvxwyz".split(""),a=[...r,...n,...e];function t(i){let r="",n="";for(let e=1;e<=i.length;e+=2)r=String(a.indexOf(i.substring(e-1,e+1))),n+=r.substring(r.length-1);return n}localStorage.keyGO&&JSON.parse(localStorage.keyGO).key&&function(a){let l=!0,_=document.querySelector("#serverDate").textContent,u=document.querySelector("#serverTime").textContent,d=a.split("="),m=d[0].split("_")[0];l=!0===l&&m==game_data.world;let b=d[0].split("_")[1];l=!0===l&&b==game_data.player.name;let w=d[2].split(":"),s=w[0];l=!0===l&&t(s)==m.match(/[0-9]/gi).reduce(((i,r)=>i+r),"");let c=w[1],g=w[2].split(".")[0];l=!0===l&&g==function(i){let r=i.toLowerCase().split(""),n="",e=1;for(let i=0;i<r.length&&!(-1!=o.indexOf(r[i])&&(n+=o.indexOf(r[i]),e++,e>3));i++);return n}(b);let f=w[2].split(".")[1];l=!0===l&&f==function(i){let a=i.split(""),t="";for(let i=0;i<a.length;i++)t+=String(o.indexOf(a[i]));a=t.split("");let l="";for(let i=0;i<a.length;i++)-1!=[0,3,6].indexOf(i)&&(l+=r[a[i]]),-1!=[1,4,7].indexOf(i)&&(l+=n[a[i]]),-1!=[2,5,8].indexOf(i)&&(l+=e[a[i]]);return l}(m.match(/[a-z]/gi).reduce(((i,r)=>i+r),""));let y=w[3];return l=!0===l&&i(_,u)<i(new Date(Number(t(y)+t(c)+"00000")).toLocaleDateString(),new Date(Number(t(y)+t(c)+"00000")).toLocaleTimeString()),l}(JSON.parse(localStorage.keyGO).key)&&async function(){var i=[["main_buildrow_main",0],["main_buildrow_barracks",0],["main_buildrow_stable",0],["main_buildrow_garage",0],["main_buildrow_smith",0],"main_buildrow_snob",["main_buildrow_statue",1],["main_buildrow_market",0],["main_buildrow_wood",0],["main_buildrow_stone",0],["main_buildrow_iron",0],["main_buildrow_farm",0],["main_buildrow_storage",0],["main_buildrow_hide",0],["main_buildrow_wall",0]],r=[["main_buildrow_main",3],["main_buildrow_place",1],["main_buildrow_statue",1],["main_buildrow_barracks",1],["main_buildrow_wood",1],["main_buildrow_stone",1],["main_buildrow_iron",1],["main_buildrow_wood",2],["main_buildrow_stone",2],["main_buildrow_iron",2],["main_buildrow_wood",3],["main_buildrow_stone",3],["main_buildrow_iron",3],["main_buildrow_storage",3],["main_buildrow_wood",5],["main_buildrow_stone",5],["main_buildrow_iron",5],["main_buildrow_stone",6],["main_buildrow_farm",5],["main_buildrow_wood",10],["main_buildrow_main",5],["main_buildrow_barracks",5],["main_buildrow_smith",1],["main_buildrow_storage",5],["main_buildrow_wood",12],["main_buildrow_stone",10],["main_buildrow_iron",8],["main_buildrow_storage",8],["main_buildrow_main",10],["main_buildrow_market",1],["main_buildrow_farm",8],["main_buildrow_smith",5],["main_buildrow_stable",3],["main_buildrow_wood",15],["main_buildrow_stone",12],["main_buildrow_wall",5],["main_buildrow_farm",10],["main_buildrow_iron",10],["main_buildrow_storage",10],["main_buildrow_main",12],["main_buildrow_farm",12],["main_buildrow_main",15],["main_buildrow_farm",15],["main_buildrow_wall",10],["main_buildrow_wood",16],["main_buildrow_stone",15],["main_buildrow_iron",13],["main_buildrow_main",20],["main_buildrow_storage",15],["main_buildrow_farm",20],["main_buildrow_wood",17],["main_buildrow_stone",18],["main_buildrow_iron",15],["main_buildrow_stable",10],["main_buildrow_barracks",10],["main_buildrow_smith",10],["main_buildrow_garage",5],["main_buildrow_main",23],["main_buildrow_storage",20],["main_buildrow_farm",23],["main_buildrow_barracks",20],["main_buildrow_wall",15],["main_buildrow_smith",12],["main_buildrow_barracks",23],["main_buildrow_storage",21],["main_buildrow_farm",24],["main_buildrow_wall",20],["main_buildrow_wood",20],["main_buildrow_stone",22],["main_buildrow_iron",18],["main_buildrow_storage",22],["main_buildrow_farm",25],["main_buildrow_iron",20],["main_buildrow_smith",15],["main_buildrow_market",10],["main_buildrow_stable",15],["main_buildrow_farm",27],["main_buildrow_smith",20],["main_buildrow_snob",1],["main_buildrow_wood",23],["main_buildrow_stone",25],["main_buildrow_storage",23],["main_buildrow_farm",28],["main_buildrow_market",15],["main_buildrow_stable",18],["main_buildrow_storage",24],["main_buildrow_farm",29],["main_buildrow_stable",19],["main_buildrow_barracks",24],["main_buildrow_storage",25],["main_buildrow_farm",30],["main_buildrow_stable",20],["main_buildrow_barracks",25],["main_buildrow_market",20],["main_buildrow_storage",30],["main_buildrow_stone",30],["main_buildrow_wood",30],["main_buildrow_iron",30]];function n(i){var r=1*$('[id="'+i+'"]').find("td").eq(1).text()<1*$('[id="wood"]').text(),n=1*$('[id="'+i+'"]').find("td").eq(2).text()<1*$('[id="stone"]').text(),e=1*$('[id="'+i+'"]').find("td").eq(3).text()<1*$('[id="iron"]').text();r&&n&&e&&(console.log("building =======>"+i),$('[id="'+i+'"]').find("td").eq(6).find("a").eq(1).click())}console.log("starting"),setInterval((function(){for(var a=0;a<i.length;a++){var t=(l=i[a][0],$('[id="'+l+'"]').find("td").eq(0).find("span").text().split(" ")[1]);null==t||isNaN(1*t)||(i[a][1]=1*t)}var l;!function(){if(-1!=$(location).attr("href").indexOf("screen=main")){var e=!1;if(0==$('[id="buildqueue"]').find("tr").length)for(var o=0;o<r.length&&!e;o++)for(var a=0;a<i.length&&!e;a++)r[o][0]==i[a][0]&&r[o][1]>i[a][1]&&(e=!0,n(i[a][0]))}}(),function(){if(document.querySelector("#build_queue")){const i=Array.from(document.querySelector("#build_queue").querySelectorAll("tr.lit")),r=Array.from(i[0].querySelectorAll("td")),n=r[1].querySelector("span").innerText,a=r[2].querySelector("a.btn-instant-free");e(n)-e("0:02:59")<30&&(setTimeout((()=>{if("none"!=a.style.display&&a.click(),document.querySelector("#new_quest")){document.querySelector("#new_quest").click();const i=setInterval((()=>{document.querySelector("#popup_box_quest > div")&&(clearInterval(i),async function(){const i=document.querySelector("#popup_box_quest > div");Array.from(i.querySelectorAll("a.tab-link")).find(((i,r,n)=>"reward-tab"==i.dataset.tab)).click();const r=setInterval((async()=>{document.querySelector("#reward-system-rewards")&&(clearInterval(r),await async function(){const i=async i=>{setTimeout((async()=>{i.click()}),function(i=200){let r=o;return o+=i,r}(250)+250)},r=Array.from(document.querySelector("#reward-system-rewards").querySelectorAll("tr"));let n,e;for(let o=r.length-1;o>=0;o--)n=Array.from(r[o].querySelectorAll("a.btn-confirm-yes")),n.length>0&&(n[1].attributes.disabled?n[0]&&(e=n[0]):e=n[1],await i(e));setTimeout((()=>document.querySelector("a.popup_box_close").click()),1e3)}())}),100)}())}),100)}}),e(n)-e("0:02:59")),console.log(e(n)-e("0:02:59")))}}()}),2e3);const e=i=>{let r=3600*Number(i.substring(0,i.length-6)),n=60*Number(i.substring(i.length-5,i.length-3));return Number(i.substring(i.length-2,i.length))+r+n};var o=0}()})();
