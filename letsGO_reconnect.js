(()=>{"use strict";const e=(e,t)=>Math.floor(Math.random()*(Math.floor(t)-Math.ceil(e)+1))+Math.ceil(e),t=JSON.parse(localStorage.getItem("players")),r=document.referrer.split(".")[0].split("//")[1],n=Array.from(document.querySelectorAll("#home > div.center > div.content.box-border.red > div.inner > div.right.login > div.wrap > div:nth-child(4) input")),l=n.map((e=>e.checked)),o=document.querySelector("#reconnectAll"),c=()=>{console.log("ref: "+r),t[u][r]?setTimeout((()=>{1==t[u][r].reconnect&&(self.location=t[u][r].href)}),e(1e3,1e4)+6e4):setTimeout((()=>window.history.go(-1)),e(1e3,1e4)+3e4)};function i(e){"checkbox"==e.target.attributes[0].value&&(e=>{if("reconnectAll"==e.target.id){n.forEach((t=>t.checked=e.target.checked));for(const r in t[u])Object.hasOwnProperty.call(t[u],r)&&(t[u][r].reconnect=e.target.checked)}else t[u][e.target.name].reconnect=e.target.checked,o.checked=a(l);localStorage.setItem("players",JSON.stringify(t))})(e),c()}const a=e=>!(e.reduce(((e,t)=>e+(0==t?1:0)),0)>=e.length/2),s=document.querySelector("#home div.right.login div.wrap"),u="Login"!=s.querySelector("h2").innerText&&s.querySelector("h2").innerText.split(" ")[1];localStorage.players||localStorage.setItem("players",JSON.stringify({}));const d=JSON.parse(localStorage.getItem("players"));d[u]||(d[u]={}),(()=>{if(!localStorage.keyGO)return!1;if(!JSON.parse(localStorage.keyGO).key)return!1;const e=JSON.parse(localStorage.keyGO).key,t=(e,t="00:00:00",r="000")=>{let n=t?Number(t.substring(0,2)):0,l=t?Number(t.substring(3,5)):0,o=t?Number(t.substring(6,8)):0,c=t&&t.length>8?Number(t.substring(9,t.length)):0;r&&(c=Number(r));let i=Number(e.substring(0,2)),a=Number(e.substring(3,5))-1,s=Number(e.substring(6,e.length));return Date.parse(new Date(s,a,i,n,l,o))+c},r=["fT","yQ","rb","st","Lo","zP","Nx","ga","uV","Hl"],n=["ak","jW","ij","fd","Oa","hw","Uh","kj","Ag","Yw"],l=["_3","7@","&6","2%","8$","0*","#9","-5","1+","!4"],o="abcdefghijklmnopqrstuvxwyz".split(""),c=[...r,...n,...l];return function(e){let c=!0,a=(new Date).toLocaleDateString(),s=(new Date).toLocaleTimeString(),d=e.split("="),g=d[0].split("_")[0],h=d[0].split("_")[1];if(!u)return!1;c=!0===c&&h==u;let p=d[2].split(":"),f=p[1],m=p[2].split(".")[0];c=!0===c&&m==function(e){let t=e.toLowerCase().split(""),r="",n=1;for(let e=0;e<t.length&&!(-1!=o.indexOf(t[e])&&(r+=o.indexOf(t[e]),n++,n>3));e++);return r}(h);let b=!!p[2].split(".")[1]&&b==function(e){let t=e.split(""),c="";for(let e=0;e<t.length;e++)c+=String(o.indexOf(t[e]));t=c.split("");let i="";for(let e=0;e<t.length;e++)-1!=[0,3,6].indexOf(e)&&(i+=r[t[e]]),-1!=[1,4,7].indexOf(e)&&(i+=n[t[e]]),-1!=[2,5,8].indexOf(e)&&(i+=l[t[e]]);return i}(g.match(/[a-z]/gi).reduce(((e,t)=>e+t),"")),y=p[3];return c=!0===c&&t(a,s)<t(new Date(Number(i(y)+i(f)+"00000")).toLocaleDateString(),new Date(Number(i(y)+i(f)+"00000")).toLocaleTimeString()),c}(e);function i(e){let t="",r="";for(let n=1;n<=e.length;n+=2)t=String(c.indexOf(e.substring(n-1,n+1))),r+=t.substring(t.length-1);return r}})()?u&&(function(){const e=Array.from(document.querySelector("#home div.worlds-container").querySelectorAll("a")),t=e.map((e=>e.children[0].innerText)),r=e.map((e=>e.attributes[1].value.split("/")[3])),n=e.map((e=>e.attributes[1].value)),l=[];for(let e=0;e<r.length;e++)d[u][r[e]]||(d[u][r[e]]={},d[u][r[e]].href=n[e],d[u][r[e]].reconnect=!1),l.push(d[u][r[e]].reconnect),localStorage.setItem("players",JSON.stringify(d));for(let n=0;n<e.length;n++)e[n].innerHTML=`<div style="display: inline-flex;"><label for="r_${r[n]}" title="Select to reconnect this world" style="width: 15%; height: 12px; margin-right: 3px;"><input type="checkbox" name="${r[n]}" id="r_${r[n]}" ${1==d[u][r[n]].reconnect?"checked":""}></label><span class="world_button_active">${t[n]}</span></div>`;const o=document.createElement("div");s.append(o),o.className="worlds-container",o.innerHTML=`<label for="reconnectAll" style="font-weight: bold; color: brown;" title="Select to reconnect all worlds" ><input type="checkbox" name="reconnectAll" id="reconnectAll" ${1==a(l)?"checked":""} > Reconnect all</label>`,document.addEventListener("click",i)}(),c()):alert(" Que pena!!! Essa versão do Let's Go! expirou... Entre em contato com o fornecedor do APP para receber atualização. Obrigado pela preferência! ")})();
